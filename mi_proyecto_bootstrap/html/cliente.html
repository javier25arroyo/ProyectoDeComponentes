<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Clientes</title>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/custom.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="clienteDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Cliente
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="clienteDropdown">
                            <li><a class="dropdown-item" href="../html/clienteRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/clienteMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/cliente.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="empleadoDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Empleado
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="empleadoDropdown">
                            <li><a class="dropdown-item" href="../html/empleadoRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/empleadoMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/empleado.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="pedidoDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Pedido
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="pedidoDropdown">
                            <li><a class="dropdown-item" href="../html/pedidoRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/pedidoMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/pedido.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="productoDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Producto
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="productoDropdown">
                            <li><a class="dropdown-item" href="../html/productoRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/productoMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/producto.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="proveedorDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Proveedor
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="proveedorDropdown">
                            <li><a class="dropdown-item" href="../html/proveedorRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/proveedorMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/proveedor.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown mx-3">
                        <a class="nav-link dropdown-toggle" href="#" id="rolDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Rol
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="rolDropdown">
                            <li><a class="dropdown-item" href="../html/rolRegistro.html">Registrar</a></li>
                            <li><a class="dropdown-item" href="../html/rolMostrar.html">Obtener</a></li>
                            <li><a class="dropdown-item" href="../html/rol.html">Actualizar & Eliminar</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item ms-3">
                        <a class="nav-link" href="../html/index.html">Cerrar sesión</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
<!-- Formulario de Actualización de Cliente -->
<div class="container mt-5">
  <h2>Cliente</h2>
  <div id="update-error-message" class="alert alert-danger d-none" role="alert">
      Por favor, corrige los errores en el formulario.
  </div>
  <form id="update-client-form" novalidate>
      <div class="form-group mb-3">
          <label for="update-id">ID</label>
          <input type="text" class="form-control" id="update-id" placeholder="Ingrese el ID del cliente" required>
          <div class="invalid-feedback">
              El ID es obligatorio.
          </div>
      </div>
      <div class="form-group mb-3">
          <label for="update-nombre">Nombre</label>
          <input type="text" class="form-control" id="update-nombre" placeholder="Ingrese el nombre del cliente" required minlength="3">
          <div class="invalid-feedback">
              El nombre es obligatorio y debe tener al menos 3 caracteres.
          </div>
      </div>
      <div class="form-group mb-3">
          <label for="update-apellido">Apellido</label>
          <input type="text" class="form-control" id="update-apellido" placeholder="Ingrese el apellido del cliente" required minlength="3">
          <div class="invalid-feedback">
              El apellido es obligatorio y debe tener al menos 3 caracteres.
          </div>
      </div>
      <div class="form-group mb-3">
          <label for="update-email">Correo Electrónico</label>
          <input type="email" class="form-control" id="update-email" placeholder="Ingrese el correo electrónico del cliente" required>
          <div class="invalid-feedback">
              Por favor, ingrese un correo electrónico válido.
          </div>
      </div>
      <div class="form-group mb-3">
          <label for="update-password">Contraseña</label>
          <input type="password" class="form-control" id="update-password" placeholder="Ingrese una contraseña" required minlength="6">
          <div class="invalid-feedback">
              La contraseña es obligatoria y debe tener al menos 6 caracteres.
          </div>
      </div>
      <div class="form-group mb-3">
          <label for="update-telefono">Teléfono</label>
          <input type="tel" class="form-control" id="update-telefono" placeholder="Ingrese el teléfono del cliente" required pattern="^\d{10}$">
          <div class="invalid-feedback">
              El teléfono es obligatorio y debe tener 10 dígitos.
          </div>
      </div>
      <div class="d-flex justify-content-center">
        <button type="submit" class="btn btn-primary mb-3 mx-2">Actualizar</button>
        <button type="button" class="btn btn-danger mb-3 mx-2" id="delete-client-button">Eliminar</button>
    </div>
</form>
</div>
<!-- Bootstrap JS -->
<script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<!-- JavaScript para manejar los formularios -->
<script>
    (function() {
        'use strict';
        let registerForm = document.getElementById('register-client-form');
        let updateForm = document.getElementById('update-client-form');
        
        registerForm.addEventListener('submit', function(event) {
            let password = document.getElementById('register-password');
            let confirmPassword = document.getElementById('register-confirm-password');
            let errorMessage = document.getElementById('register-error-message');

            if (!registerForm.checkValidity() || password.value !== confirmPassword.value) {
                event.preventDefault();
                event.stopPropagation();
                errorMessage.classList.remove('d-none');

                if (password.value !== confirmPassword.value) {
                    confirmPassword.setCustomValidity('Las contraseñas no coinciden.');
                    confirmPassword.classList.add('is-invalid');
                } else {
                    confirmPassword.setCustomValidity('');
                    confirmPassword.classList.remove('is-invalid');
                }
            } else {
                errorMessage.classList.add('d-none');
            }

            registerForm.classList.add('was-validated');
        }, false);

        updateForm.addEventListener('submit', function(event) {
            let errorMessage = document.getElementById('update-error-message');

            if (!updateForm.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
                errorMessage.classList.remove('d-none');
            } else {
                errorMessage.classList.add('d-none');
            }

            updateForm.classList.add('was-validated');
        }, false);

        document.getElementById('delete-client-button').addEventListener('click', function() {
            if (confirm('¿Estás seguro de que deseas eliminar este cliente?')) {
                // Lógica para eliminar el cliente
                alert('Cliente eliminado');
            }
        });
    })();
</script>
</body>
</html>